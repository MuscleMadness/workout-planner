"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3103],{3103:(j,f,o)=>{o.d(f,{k:()=>D});var v=o(7673),m=o(6354);const l=class k{constructor(){this.isFavourite=!1,this.muscleGroups=""}get thumbnail(){return this.images&&this.images.length>0?"assets/thumbnails/"+this.images[0]:null}},G=class g{constructor(c){this.selected=!1,this.name=c}capitalize(c){return c.charAt(0).toUpperCase()+c.slice(1)}get displayName(){return this.capitalize(this.name)}},E=class d{constructor(c,M){this.expanded=!0,this.name=c,this.workouts=M}};var y=o(3953),w=o(1626),q=o(9333),A=o(4589);let D=(()=>{var a;class c{constructor(e,r,t){this.http=e,this.user=r,this.muscleGroupService=t}load(){return this.exercises?(console.log("returning data from memory"),(0,v.of)(this.exercises)):(console.log("returning data from file"),this.http.get("assets/data/workouts.json").pipe((0,m.T)(this.processData,this)))}organizeByMajorMuscleGroup(e){console.log("organizing data");var r=this.muscleGroupService.getMuscleGroups();return this.exercisesByGroup=r.map(t=>{var s=e.filter(h=>{var u,i;return t.values.includes(null!==(u=null===(i=h.primaryMuscles)||void 0===i?void 0:i[0])&&void 0!==u?u:"")});return new E(t.name,s)}),this.exercisesByGroup}organizeByMuscleGroup(e){return[...new Set(e.map(s=>s.primaryMuscles).flat().filter(s=>void 0!==s))].map(s=>new E(s,e.filter(h=>{var u;return null===(u=h.primaryMuscles)||void 0===u?void 0:u.includes(s)})))}processData(e){return console.log("processing data"),this.exercises=e.map(r=>(r.isFavourite=this.user.hasFavorite(r.id),Object.assign(new l,r))),this.fetchEquipments(),this.exercises}loadWorkOuts(){return this.load()}getWorkout(e){return this.load().pipe((0,m.T)(r=>r.find(t=>t.id===e)))}getAllWorkouts(){return console.log("getting all workouts"),this.exercises}getWorkouts(e,r,t,s="",n=!1){return this.load().pipe((0,m.T)(h=>{var u=h.filter(i=>{var p,b,B,x;return(0==t.length||t.includes(null!==(p=i.level)&&void 0!==p?p:"")&&0==e.length||e.includes(null!==(b=null===(B=i.primaryMuscles)||void 0===B?void 0:B[0])&&void 0!==b?b:""))&&(0==r.length||r.includes(null!==(x=i.equipment)&&void 0!==x?x:""))&&(""==s||i.name.toLowerCase().includes(s))});return n&&(u=u.filter(i=>{var p;return(null===(p=i.videos)||void 0===p?void 0:p.length)>0})),u})).pipe((0,m.T)(this.organizeByMajorMuscleGroup,this))}getLevels(){var e,r=null===(e=this.exercises)||void 0===e?void 0:e.map(s=>s.level);return Array.from(new Set(r))}getEquipments(){return this.equipments}getMuscles(){var e;const r=null===(e=this.exercises)||void 0===e?void 0:e.map(s=>s.primaryMuscles).reduce((s,n)=>s.concat(n),[]);return Array.from(new Set(r))}fetchEquipments(){var e;const t=[...new Set(null===(e=this.exercises)||void 0===e?void 0:e.map(s=>s.equipment).filter(s=>void 0!==s).map(s=>null===s?"Cardio":s))].map(s=>new G(s));this.equipments=t}}return(a=c).\u0275fac=function(e){return new(e||a)(y.KVO(w.Qq),y.KVO(q.E),y.KVO(A.A))},a.\u0275prov=y.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),c})()},4589:(j,f,o)=>{o.d(f,{A:()=>k});var v=o(3953),m=o(1626);let k=(()=>{var l;class g{constructor(d){this.http=d,this.majorGroupsBasic={all:["abdominals","hamstrings","adductors","quadriceps","calves","glutes","abductors","biceps","triceps","forearms","shoulders","traps","neck","middle back","lower back","lats","chest"],core:["abdominals"],legs:["hamstrings","adductors","quadriceps","calves","glutes","abductors"],arms:["biceps","triceps","forearms"],"upper body":["shoulders","traps","neck"],back:["middle back","lower back","lats"],chest:["chest"]},this.muscleGroupsAdvanced=["abdominals","hamstrings","adductors","quadriceps","biceps","shoulders","chest","middle back","calves","glutes","lower back","lats","triceps","traps","forearms","neck","abductors"],this.jsonUrl="assets/data/muscle-group.json"}getAllMuscleGroupsFlat(){return this.majorGroupsBasic}getMuscleGroupsNew(){return this.http.get(this.jsonUrl)}getMuscleGroups(){return[{key:"core",values:this.majorGroupsBasic.core,name:"Core",orderNumber:1},{key:"legs",values:this.majorGroupsBasic.legs,name:"Legs",orderNumber:2},{key:"arms",values:this.majorGroupsBasic.arms,name:"Arms",orderNumber:3},{key:"upper body",values:this.majorGroupsBasic["upper body"],name:"Upper Body",orderNumber:4},{key:"back",values:this.majorGroupsBasic.back,name:"Back",orderNumber:5},{key:"chest",values:this.majorGroupsBasic.chest,name:"Chest",orderNumber:6}]}}return(l=g).\u0275fac=function(d){return new(d||l)(v.KVO(m.Qq))},l.\u0275prov=v.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),g})()}}]);