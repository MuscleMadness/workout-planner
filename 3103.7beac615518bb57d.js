"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3103],{3103:(E,f,o)=>{o.d(f,{k:()=>D});var g=o(7673),m=o(6354);const n=class k{constructor(){this.isFavourite=!1,this.muscleGroups=""}get thumbnail(){return this.images&&this.images.length>0?"assets/thumbnails/"+this.images[0]:null}},G=class y{constructor(c){this.selected=!1,this.name=c}capitalize(c){return c.charAt(0).toUpperCase()+c.slice(1)}get displayName(){return this.capitalize(this.name)}},j=class d{constructor(c,M){this.expanded=!0,this.name=c,this.workouts=M}};var h=o(3953),w=o(1626),W=o(9333),q=o(4589),A=o(4909);let D=(()=>{var i;class c{constructor(s,r,t,e){this.http=s,this.user=r,this.muscleGroupService=t,this.translateService=e}getWorkoutJsonFile(){return"ta"===this.translateService.currentLang?"assets/data/workouts-ta.json":"assets/data/workouts.json"}load(){return this.exercises?(console.log("returning data from memory"),(0,g.of)(this.exercises)):(console.log("returning data from file"),this.http.get(this.getWorkoutJsonFile()).pipe((0,m.T)(this.processData,this)))}organizeByMajorMuscleGroup(s){console.log("organizing data");var r=this.muscleGroupService.getMuscleGroups();return this.exercisesByGroup=r.map(t=>{var e=s.filter(v=>{var a,u;return t.values.includes(null!==(a=null===(u=v.primaryMuscles)||void 0===u?void 0:u[0])&&void 0!==a?a:"")});return new j(t.name,e)}),this.exercisesByGroup}organizeByMuscleGroup(s){return[...new Set(s.map(e=>e.primaryMuscles).flat().filter(e=>void 0!==e))].map(e=>new j(e,s.filter(v=>{var a;return null===(a=v.primaryMuscles)||void 0===a?void 0:a.includes(e)})))}processData(s){return console.log("processing data"),this.exercises=s.map(r=>(r.isFavourite=this.user.hasFavorite(r.id),Object.assign(new n,r))),this.fetchEquipments(),this.exercises}loadWorkOuts(){return this.load()}getWorkout(s){return this.load().pipe((0,m.T)(r=>r.find(t=>t.id===s)))}getAllWorkouts(){return console.log("getting all workouts"),this.exercises}getWorkouts(s,r,t,e="",l=!1){return this.load().pipe((0,m.T)(v=>{var a=v.filter(u=>{var p,b,B,x;return(0==t.length||t.includes(null!==(p=u.level)&&void 0!==p?p:"")&&0==s.length||s.includes(null!==(b=null===(B=u.primaryMuscles)||void 0===B?void 0:B[0])&&void 0!==b?b:""))&&(0==r.length||r.includes(null!==(x=u.equipment)&&void 0!==x?x:""))&&(""==e||u.name.toLowerCase().includes(e))});return l&&(a=a.filter(u=>{var p;return(null===(p=u.videos)||void 0===p?void 0:p.length)>0})),a})).pipe((0,m.T)(this.organizeByMajorMuscleGroup,this))}getLevels(){var s,r=null===(s=this.exercises)||void 0===s?void 0:s.map(e=>e.level);return Array.from(new Set(r))}getEquipments(){return this.equipments}getMuscles(){var s;const r=null===(s=this.exercises)||void 0===s?void 0:s.map(e=>e.primaryMuscles).reduce((e,l)=>e.concat(l),[]);return Array.from(new Set(r))}fetchEquipments(){var s;const t=[...new Set(null===(s=this.exercises)||void 0===s?void 0:s.map(e=>e.equipment).filter(e=>void 0!==e).map(e=>null===e?"Cardio":e))].map(e=>new G(e));this.equipments=t}}return(i=c).\u0275fac=function(s){return new(s||i)(h.KVO(w.Qq),h.KVO(W.E),h.KVO(q.A),h.KVO(A.c$))},i.\u0275prov=h.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),c})()},4589:(E,f,o)=>{o.d(f,{A:()=>k});var g=o(3953),m=o(1626);let k=(()=>{var n;class y{constructor(d){this.http=d,this.majorGroupsBasic={all:["abdominals","hamstrings","adductors","quadriceps","calves","glutes","abductors","biceps","triceps","forearms","shoulders","traps","neck","middle back","lower back","lats","chest"],core:["abdominals"],legs:["hamstrings","adductors","quadriceps","calves","glutes","abductors"],arms:["biceps","triceps","forearms"],"upper body":["shoulders","traps","neck"],back:["middle back","lower back","lats"],chest:["chest"]},this.muscleGroupsAdvanced=["abdominals","hamstrings","adductors","quadriceps","biceps","shoulders","chest","middle back","calves","glutes","lower back","lats","triceps","traps","forearms","neck","abductors"],this.jsonUrl="assets/data/muscle-group.json"}getAllMuscleGroupsFlat(){return this.majorGroupsBasic}getMuscleGroupsNew(){return this.http.get(this.jsonUrl)}getMuscleGroups(){return[{key:"core",values:this.majorGroupsBasic.core,name:"Core",orderNumber:1},{key:"legs",values:this.majorGroupsBasic.legs,name:"Legs",orderNumber:2},{key:"arms",values:this.majorGroupsBasic.arms,name:"Arms",orderNumber:3},{key:"upper body",values:this.majorGroupsBasic["upper body"],name:"Upper Body",orderNumber:4},{key:"back",values:this.majorGroupsBasic.back,name:"Back",orderNumber:5},{key:"chest",values:this.majorGroupsBasic.chest,name:"Chest",orderNumber:6}]}}return(n=y).\u0275fac=function(d){return new(d||n)(g.KVO(m.Qq))},n.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),y})()}}]);