"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8241],{6493:(v,p,l)=>{l.d(p,{A:()=>d});const d=class m{constructor(r){var e;this.selected=!1,this.exercises=[],this.videos=[],this.id=r.id,this.name=null!==(e=r.name)&&void 0!==e?e:r.id,this.exercises=r.exercises||[],this.videos=r.videos||[],this.thumbnail=r.thumbnail}capitalize(r){return r.charAt(0).toUpperCase()+r.slice(1)}get displayName(){return this.capitalize(this.name)}}},6653:(v,p,l)=>{l.r(p),l.d(p,{EquipmentDetailPageModule:()=>b});var m=l(177),d=l(9417),a=l(5374),r=l(8498),e=l(3953),f=l(6776),E=l(7673),g=l(6354),k=l(9437),q=l(1626),_=l(4909);let P=(()=>{var t;class s{constructor(o,n){this.http=o,this.translate=n,this.workoutsCache=null}getAllWorkouts(){return this.workoutsCache?(0,E.of)(this.workoutsCache):this.http.get("ta"===(this.translate.currentLang||"en")?"assets/data/workouts-ta.json":"assets/data/workouts.json").pipe((0,g.T)(u=>(this.workoutsCache=u,this.workoutsCache)),(0,k.W)(u=>{throw console.error("Error loading workouts:",u),u}))}getWorkoutsByIds(o){return this.getAllWorkouts().pipe((0,g.T)(n=>n.filter(u=>o.includes(u.id))))}}return(t=s).\u0275fac=function(o){return new(o||t)(e.KVO(q.Qq),e.KVO(_.c$))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();var h=l(8708);function D(t,s){if(1&t&&e.nrm(0,"img",17),2&t){const i=e.XpG().$implicit;e.FS9("alt",i.name),e.Y8G("src","assets/thumbnails/"+i.images[0],e.B4B)}}function M(t,s){if(1&t&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.SpI(" ",i.primaryMuscles[0]," ")}}function C(t,s){if(1&t&&(e.j41(0,"ion-item",14)(1,"ion-thumbnail",2),e.DNE(2,D,1,2,"img",15),e.k0s(),e.j41(3,"ion-label")(4,"h2"),e.EFF(5),e.k0s(),e.DNE(6,M,2,1,"p",16),e.k0s()()),2&t){const i=s.$implicit;e.Y8G("routerLink","/app/tabs/workouts/"+i.id),e.R7$(2),e.Y8G("ngIf",i.images&&i.images.length>0),e.R7$(3),e.JRh(i.name),e.R7$(),e.Y8G("ngIf",i.primaryMuscles&&i.primaryMuscles.length>0)}}function F(t,s){if(1&t&&(e.j41(0,"ion-list")(1,"ion-item-divider")(2,"ion-label"),e.EFF(3),e.k0s()(),e.DNE(4,C,7,4,"ion-item",13),e.k0s()),2&t){const i=s.$implicit;e.R7$(3),e.JRh(i.key),e.R7$(),e.Y8G("ngForOf",i.value)}}function y(t,s){if(1&t&&(e.j41(0,"div",9)(1,"div",10),e.nrm(2,"img",11),e.k0s(),e.j41(3,"h2"),e.EFF(4,"Workouts"),e.k0s(),e.DNE(5,F,5,2,"ion-list",12),e.nI1(6,"keyvalue"),e.k0s()),2&t){const i=e.XpG();e.R7$(2),e.FS9("alt",null==i.equipment?null:i.equipment.name),e.Y8G("src",null==i.equipment?null:i.equipment.thumbnail,e.B4B),e.R7$(3),e.Y8G("ngForOf",e.bMT(6,3,i.groupedWorkouts))}}function S(t,s){if(1&t&&(e.j41(0,"div"),e.nrm(1,"youtube-player",20),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("videoId",null==i.equipment||null==i.equipment.videos?null:i.equipment.videos[0])("width",i.screenWidth)("height",i.screenHeight)}}function w(t,s){1&t&&(e.j41(0,"p"),e.EFF(1,"No videos available"),e.k0s())}function G(t,s){if(1&t&&(e.j41(0,"div",18)(1,"h2"),e.EFF(2,"Video"),e.k0s(),e.DNE(3,S,2,3,"div",19)(4,w,2,0,"ng-template",null,0,e.C5r),e.k0s()),2&t){const i=e.sdS(5),o=e.XpG();e.R7$(3),e.Y8G("ngIf",(null==o.equipment?null:o.equipment.videos)&&o.equipment.videos.length>0)("ngIfElse",i)}}const I=[{path:"",component:(()=>{var t;class s{constructor(o,n,u){this.route=o,this.equipmentService=n,this.workoutsService=u,this.groupedWorkouts={},this.selectedSegment="details",this.screenWidth=window.innerWidth,this.screenHeight=Math.min(window.innerHeight/2,360),this.apiLoaded=!1}ngOnInit(){if(this.getScreenSize(),!this.apiLoaded){const n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",document.body.appendChild(n),this.apiLoaded=!0}const o=this.route.snapshot.paramMap.get("id");o&&this.equipmentService.getEquipmentById(o).subscribe(n=>{this.equipment=n,this.loadWorkouts()},n=>{console.error("Error loading equipment:",n)})}getScreenSize(){this.screenWidth=window.innerWidth,this.screenHeight=Math.min(window.innerHeight/2,360)}loadWorkouts(){var o;null!==(o=this.equipment)&&void 0!==o&&o.exercises&&this.workoutsService.getWorkoutsByIds(this.equipment.exercises).subscribe(n=>{this.groupedWorkouts=this.groupByMuscleGroup(n),console.log("Grouped Workouts:",this.groupedWorkouts)},n=>{console.error("Error loading workouts:",n)})}groupByMuscleGroup(o){return o.reduce((n,u)=>{const c=u.muscleGroups;return n[c]||(n[c]=[]),n[c].push(u),n},{})}}return(t=s).\u0275fac=function(o){return new(o||t)(e.rXU(r.nX),e.rXU(f.$),e.rXU(P))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-equipment-detail"]],hostBindings:function(o,n){1&o&&e.bIt("resize",function(c){return n.getScreenSize(c)},!1,e.tSv)},decls:16,vars:4,consts:[["noVideos",""],[1,"ion-no-border"],["slot","start"],["defaultHref","/equipments"],[3,"ngModelChange","ngModel"],["value","details"],["value","video"],["class","equipment-detail",4,"ngIf"],["class","equipment-video",4,"ngIf"],[1,"equipment-detail"],[1,"image-container"],[1,"equipment-image",3,"src","alt"],[4,"ngFor","ngForOf"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[3,"src","alt"],[1,"equipment-video"],[4,"ngIf","ngIfElse"],[3,"videoId","width","height"]],template:function(o,n){1&o&&(e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-content")(7,"ion-segment",4),e.mxI("ngModelChange",function(c){return e.DH7(n.selectedSegment,c)||(n.selectedSegment=c),c}),e.j41(8,"ion-segment-button",5)(9,"ion-label"),e.EFF(10,"Details"),e.k0s()(),e.j41(11,"ion-segment-button",6)(12,"ion-label"),e.EFF(13,"Video"),e.k0s()()(),e.DNE(14,y,7,5,"div",7)(15,G,6,2,"div",8),e.k0s()),2&o&&(e.R7$(5),e.JRh(null==n.equipment?null:n.equipment.name),e.R7$(2),e.R50("ngModel",n.selectedSegment),e.R7$(7),e.Y8G("ngIf","details"===n.selectedSegment),e.R7$(),e.Y8G("ngIf","video"===n.selectedSegment))},dependencies:[m.Sq,m.bT,d.BC,d.vS,a.QW,a.W9,a.eU,a.uz,a.Dg,a.he,a.nf,a.Gp,a.eP,a.Zx,a.BC,a.ai,a.Je,a.el,a.N7,h.x9,r.Wk,m.lG],styles:[".equipment-detail[_ngcontent-%COMP%]{text-align:center;padding:16px}.equipment-detail[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100%;height:50vh;display:flex;justify-content:center;align-items:center;overflow:hidden;background-color:var(--ion-color-light)}.equipment-detail[_ngcontent-%COMP%]   .equipment-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:cover}.equipment-detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin-top:16px}.equipment-detail[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin:8px 0}.equipment-video[_ngcontent-%COMP%]{text-align:center;padding:16px}.equipment-video[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{width:100%;height:200px;margin-bottom:16px}"]}),s})()}];let W=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[r.iI.forChild(I),r.iI]}),s})(),b=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[m.MD,d.YN,a.bv,h.vo,W]}),s})()}}]);